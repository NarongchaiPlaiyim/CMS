<!DOCTYPE html>
<html>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:p="http://primefaces.org/ui">
    <h:head>
    </h:head>
    <h:form id="assignmentTeacherDialogForm">
        <p:dataTable id="studentAssignmentTable"
                     var="studentAssignment"
                     rows="7" paginator="true"
                     editable="true" editMode="cell"
                     value="#{assignmentBean.studentAssignmentModelList}"
                     rowKey="#{subject.id}"
                     rowIndexVar="rowIndex">
            <p:column headerText="No" style="min-width: 20px; width: 20px; max-width: 20px;" styleClass="center">
                <h:outputText value="#{rowIndex+1}"/>
            </p:column>
            <p:column headerText="Student Id" style="min-width: 100px; width: 100px; max-width: 80px;" styleClass="center">
                <h:outputText value="#{studentAssignment.userModel.personId}" style="word-wrap:break-word;"/>
            </p:column>
            <p:column headerText="Student Name" style="min-width: 100px; width: 100px; max-width: 100px;" styleClass="center">
                <h:outputText value="#{studentAssignment.userModel.userName}" style="word-wrap:break-word;"/>
            </p:column>
            <p:column headerText="Submit" style="min-width: 50px; width: 50px; max-width: 50px; text-align: center" styleClass="center">
                <p:selectBooleanCheckbox value="#{studentAssignment.submitStatus}"/>
            </p:column>
            <p:column headerText="Score" style="min-width: 50px; width: 50px; max-width: 50px;" styleClass="center">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{studentAssignment.score}" style="word-wrap:break-word;"/></f:facet>
                    <f:facet name="input"><p:inputText id="modelInput" value="#{studentAssignment.score}" style="min-width: 50px; width: 50px; max-width: 50px;" /></f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Download" style="min-width: 80px; width: 80px; max-width: 80px; text-align: center" styleClass="center">
                <p:commandButton value="Download" process="@this"/>
            </p:column>
        </p:dataTable>

        <p:panel style="border: 0">
            <div style="text-align: center;">
                <p:commandButton value="#{msg.get('btn.name.save')}"
                                 id="btnSaveStudentAssignment"
                                 update=":msgBoxSystemMessagePanel, :assignmentDialogForm"
                                 styleClass="medium" style="#{msg.get('btn.size')}"
                                 icon="ui-icon-check"
                                 action="#{assignmentBean.onAddScore()}"
                                 process="@form"/>
                <p:commandButton value="#{msg.get('btn.name.cancel')}"
                                 id="btnCancel"
                                 icon="ui-icon-cancel"
                                 styleClass="medium" style="#{msg.get('btn.size')}"
                                 process="@form"
                                 oncomplete="PF('studentAssignmetDlg').hide()"/>
            </div>
        </p:panel>
    </h:form>
</f:view>
</html>