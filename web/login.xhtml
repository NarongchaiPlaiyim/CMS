<!DOCTYPE html>
<html>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:p="http://primefaces.org/ui"
        xmlns:pe="http://primefaces.org/ui/extensions"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        >
    <h:head>
        <title>Login Page </title>
        <h:outputScript library="js" name="custom.js"/>
    </h:head>
    <style type="text/css" >
        .loginfooter {
            font-size: 11px; color: rgba(255,255,255,0.5); position: absolute; position: fixed; bottom: 0; left: 0;
            width: 100%; text-align: center; font-family: arial, sans-serif !important; padding: 5px 0; }
    </style>
    <h:body>
        <h:form id="frmLogin">
            <p:panel style="border: 0">
                <p:panelGrid columns="2" style="border: 0">
                    <h:outputLabel for="typeRadio" value=""/>
                    <p:selectOneRadio id="typeRadio" styleClass="radio_table" style="background-origin: border-box"
                                      value="#{loginBean.typeRadio}">
                        <f:selectItem itemLabel="Teacher" itemValue="#{loginBean.TEACHER}"/>
                        <f:selectItem itemLabel="Student" itemValue="#{loginBean.STUDENT}"/>
                        <p:ajax listener="#{loginBean.onClickRadio}" event="change" update="@form, :frmLogin:teacherId"/>
                    </p:selectOneRadio>


                    <h:outputLabel for="username" value="Username"/>
                    <p:inputText id="username" value="#{loginBean.userName}" placeholder="Enter your username." />
                    <h:outputLabel for="password" value="Password"/>
                    <p:password id="password" value="#{loginBean.password}" placeholder="Enter your password." />

                    <h:outputLabel id="teacherIdLabel" for="teacherId" value="Teacher ID"
                                   rendered="#{loginBean.studentFlag}"/>

                    <p:selectOneMenu id="teacherId" value="#{loginBean.teacherId}" rendered="#{loginBean.studentFlag}">
                        <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                        <f:selectItems value="#{loginBean.teacherList}"
                                       var="c"
                                       itemLabel="#{c.personId}" itemValue="#{c.personId}" />
                    </p:selectOneMenu>

                    <p:commandButton id="loginBtn" value="#{msg.get('btn.name.login')}"
                                     update=":msgBoxSystemMessagePanel"
                                     onstart="PF('bui').block()"
                                     action="#{loginBean.login}"
                                     oncomplete="PF('bui').unblock()" />

                    <p:commandButton id="registerTeacherBtn" value="#{msg.get('btn.name.register')}"
                                     rendered="#{loginBean.teacherFlag}"
                                     update=":teacherRegisterForm"
                                     action="#{loginBean.onClickRegister}"
                                     oncomplete="PF('teacherRegisterDlg').show()"/>

                    <p:commandButton id="registerStudentBtn" value="#{msg.get('btn.name.register')}"
                                     rendered="#{loginBean.studentFlag}"
                                     update=":studenRegisterForm"
                                     action="#{loginBean.onClickRegister}"
                                     oncomplete="PF('studentRegisterDlg').show()"/>
                </p:panelGrid>
            </p:panel>
        </h:form>
    </h:body>

    <p:dialog id="teacherRegisterDialog" widgetVar="teacherRegisterDlg" header="Teacher Register"
              onShow="hideWindowsScrollBar()" onHide="showWindowsScrollBar()" resizable="false"
              closable="false"
              modal="true" width="350">
        <ui:include src="site/dialog/teacherRegisterDialog.xhtml"/>
    </p:dialog>

    <p:dialog id="studentRegisterDialog" widgetVar="studentRegisterDlg" header="Student Register"
              onShow="hideWindowsScrollBar()" onHide="showWindowsScrollBar()" resizable="false"
              closable="false"
              modal="true" width="350">
        <ui:include src="site/dialog/studenRegisterDialog.xhtml"/>
    </p:dialog>



    <p:panel id="msgBoxSystemMessagePanel" style="border: 0">
        <p:confirmDialog id="msgBoxSystemMessageDialog" widgetVar="msgBoxSystemMessageDlg" width="#{msg.get('dialog.message.size')}" closable="false"
                         style="border: 0;"
                         header="#{loginBean.messageHeader}" message="#{loginBean.message}" >
            <div style="text-align: right">
                <p:commandButton value="#{msg.get('btn.name.ok')}"
                                 process="@this"
                                 update=":frmLogin"
                                 icon="ui-icon-check"
                                 styleClass="medium" style="#{msg.get('btn.size')}"
                                 oncomplete="PF('msgBoxSystemMessageDlg').hide(); PF('teacherRegisterDlg').hide(); PF('studentRegisterDlg').hide()"/>
            </div>
        </p:confirmDialog>
    </p:panel>

    <pe:blockUI widgetVar="bui" centerX="true" centerY="true">
            <p:panel style="border: 0">
                <div style="text-align: center;">
                    <h:outputText value="Please wait..." />
                </div>
                <div style="text-align: right;">
                    <p:graphicImage value="/resources/images/shared/292.GIF"/>
                </div>
            </p:panel>
    </pe:blockUI>
</f:view>
</html>